import{c as E}from"./1a1e12b85f9de6c453175456e6b03dc3.js";import{r as $}from"./6e99284c7e89ef9d925f62c5923f9505.js";var _={exports:{}};(function(O,k){(function(h,l){O.exports=l($)})(E,d=>(()=>{var h={113:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=(s,n)=>{const i=s.__vccOpts||s;for(const[u,m]of n)i[u]=m;return i}},594:t=>{t.exports=d}},l={};function a(t){var e=l[t];if(e!==void 0)return e.exports;var s=l[t]={exports:{}};return h[t](s,s.exports,a),s.exports}a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var p={};a.r(p),a.d(p,{ToastComponent:()=>v,ToastPlugin:()=>T,ToastPositions:()=>o,default:()=>j,useToast:()=>g});var r=a(594);const b=["innerHTML"];function y(t,e,s,n,i,u){return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave},{default:(0,r.withCtx)(()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{ref:"root",role:"alert",class:(0,r.normalizeClass)(["v-toast__item",[`v-toast__item--${t.type}`,`v-toast__item--${t.position}`]]),onMouseover:e[0]||(e[0]=m=>t.toggleTimer(!0)),onMouseleave:e[1]||(e[1]=m=>t.toggleTimer(!1)),onClick:e[2]||(e[2]=function(){return t.whenClicked&&t.whenClicked(...arguments)})},[e[3]||(e[3]=(0,r.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,r.createElementVNode)("p",{class:"v-toast__text",innerHTML:t.message},null,8,b)],34),[[r.vShow,t.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(t){var e;typeof t.remove<"u"?t.remove():(e=t.parentNode)==null||e.removeChild(t)}function w(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=(0,r.h)(t,e,n),u=document.createElement("div");return u.classList.add("v-toast--pending"),s.appendChild(u),(0,r.render)(i,u),i.component}class B{constructor(e,s){this.startedAt=Date.now(),this.callback=e,this.delay=s,this.timer=setTimeout(e,s)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const o=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function P(t){return{all:t=t||new Map,on:function(e,s){var n=t.get(e);n?n.push(s):t.set(e,[s])},off:function(e,s){var n=t.get(e);n&&(s?n.splice(n.indexOf(s)>>>0,1):t.set(e,[]))},emit:function(e,s){var n=t.get(e);n&&n.slice().map(function(i){i(s)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,s)})}}}const c=P(),C=(0,r.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:o.BOTTOM_RIGHT,validator(t){return Object.values(o).includes(t)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),c.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const t=document.body;t.appendChild(this.parentTop),t.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const t=this.$refs.root;(0,r.render)(null,t),f(t)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const t=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(t),this.isActive=!0,this.duration&&(this.timer=new B(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(t){!this.pauseOnHover||!this.timer||(t?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case o.TOP:case o.TOP_RIGHT:case o.TOP_LEFT:return this.parentTop;case o.BOTTOM:case o.BOTTOM_RIGHT:case o.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case o.TOP:case o.TOP_RIGHT:case o.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case o.BOTTOM:case o.BOTTOM_RIGHT:case o.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){c.off("toast-clear",this.dismiss)}});var M=a(113);const v=(0,M.default)(C,[["render",y]]),g=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(e){let s=null;typeof e=="string"&&(s=e);const i=Object.assign({},{message:s},t,e);return{dismiss:w(v,i,document.body).ctx.dismiss}},clear(){c.emit("toast-clear")},success(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"success"},s))},error(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"error"},s))},info(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"info"},s))},warning(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"warning"},s))},default(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"default"},s))}}},T={install:function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=g(e);t.config.globalProperties.$toast=s,t.provide("$toast",s)}},j=T;return p})())})(_);var L=_.exports;export{L as d};
