import{c as fe}from"./1a1e12b85f9de6c453175456e6b03dc3.js";var xt={exports:{}},pe={exports:{}},Ze;function he(){if(Ze)return pe.exports;Ze=1;var e=function(){return this===void 0}();if(e)pe.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(a,i){var f=Object.getOwnPropertyDescriptor(a,i);return!!(!f||f.writable||f.set)}};else{var E={}.hasOwnProperty,w={}.toString,o={}.constructor.prototype,g=function(a){var i=[];for(var f in a)E.call(a,f)&&i.push(f);return i},v=function(a,i){return{value:a[i]}},b=function(a,i,f){return a[i]=f.value,a},u=function(a){return a},t=function(a){try{return Object(a).constructor.prototype}catch{return o}},s=function(a){try{return w.call(a)==="[object Array]"}catch{return!1}};pe.exports={isArray:s,keys:g,names:g,defineProperty:b,getDescriptor:v,freeze:u,getPrototypeOf:t,isES5:e,propertyIsWritable:function(){return!0}}}return pe.exports}var me,Pe;function J(){if(Pe)return me;Pe=1;var e=he(),E=typeof navigator>"u",w={e:{}},o,g=typeof self<"u"?self:typeof window<"u"?window:typeof fe<"u"?fe:fe!==void 0?fe:null;function v(){try{var _=o;return o=null,_.apply(this,arguments)}catch(V){return w.e=V,w}}function b(_){return o=_,v}var u=function(_,V){var z={}.hasOwnProperty;function L(){this.constructor=_,this.constructor$=V;for(var H in V.prototype)z.call(V.prototype,H)&&H.charAt(H.length-1)!=="$"&&(this[H+"$"]=V.prototype[H])}return L.prototype=V.prototype,_.prototype=new L,_.prototype};function t(_){return _==null||_===!0||_===!1||typeof _=="string"||typeof _=="number"}function s(_){return typeof _=="function"||typeof _=="object"&&_!==null}function a(_){return t(_)?new Error(Q(_)):_}function i(_,V){var z=_.length,L=new Array(z+1),H;for(H=0;H<z;++H)L[H]=_[H];return L[H]=V,L}function f(_,V,z){if(e.isES5){var L=Object.getOwnPropertyDescriptor(_,V);if(L!=null)return L.get==null&&L.set==null?L.value:z}else return{}.hasOwnProperty.call(_,V)?_[V]:void 0}function h(_,V,z){if(t(_))return _;var L={value:z,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(_,V,L),_}function r(_){throw _}var l=function(){var _=[Array.prototype,Object.prototype,Function.prototype],V=function(H){for(var $=0;$<_.length;++$)if(_[$]===H)return!0;return!1};if(e.isES5){var z=Object.getOwnPropertyNames;return function(H){for(var $=[],te=Object.create(null);H!=null&&!V(H);){var ne;try{ne=z(H)}catch{return $}for(var se=0;se<ne.length;++se){var ue=ne[se];if(!te[ue]){te[ue]=!0;var ce=Object.getOwnPropertyDescriptor(H,ue);ce!=null&&ce.get==null&&ce.set==null&&$.push(ue)}}H=e.getPrototypeOf(H)}return $}}else{var L={}.hasOwnProperty;return function(H){if(V(H))return[];var $=[];e:for(var te in H)if(L.call(H,te))$.push(te);else{for(var ne=0;ne<_.length;++ne)if(L.call(_[ne],te))continue e;$.push(te)}return $}}}(),p=/this\s*\.\s*\S+\s*=/;function C(_){try{if(typeof _=="function"){var V=e.names(_.prototype),z=e.isES5&&V.length>1,L=V.length>0&&!(V.length===1&&V[0]==="constructor"),H=p.test(_+"")&&e.names(_).length>0;if(z||L||H)return!0}return!1}catch{return!1}}function k(_){return _}var F=/^[a-z$_][a-z$_0-9]*$/i;function x(_){return F.test(_)}function q(_,V,z){for(var L=new Array(_),H=0;H<_;++H)L[H]=V+H+z;return L}function Q(_){try{return _+""}catch{return"[no string representation]"}}function W(_){return _!==null&&typeof _=="object"&&typeof _.message=="string"&&typeof _.name=="string"}function B(_){try{h(_,"isOperational",!0)}catch{}}function M(_){return _==null?!1:_ instanceof Error.__BluebirdErrorTypes__.OperationalError||_.isOperational===!0}function X(_){return W(_)&&e.propertyIsWritable(_,"stack")}var re=function(){return"stack"in new Error?function(_){return X(_)?_:new Error(Q(_))}:function(_){if(X(_))return _;try{throw new Error(Q(_))}catch(V){return V}}}();function y(_){return{}.toString.call(_)}function O(_,V,z){for(var L=e.names(_),H=0;H<L.length;++H){var $=L[H];if(z($))try{e.defineProperty(V,$,e.getDescriptor(_,$))}catch{}}}var D=function(_){return e.isArray(_)?_:null};if(typeof Symbol<"u"&&Symbol.iterator){var G=typeof Array.from=="function"?function(_){return Array.from(_)}:function(_){for(var V=[],z=_[Symbol.iterator](),L;!(L=z.next()).done;)V.push(L.value);return V};D=function(_){return e.isArray(_)?_:_!=null&&typeof _[Symbol.iterator]=="function"?G(_):null}}var n=typeof process<"u"&&y(process).toLowerCase()==="[object process]",m=typeof process<"u"&&typeof process.env<"u";function T(_){return m?process.env[_]:void 0}function j(){if(typeof Promise=="function")try{var _=new Promise(function(){});if({}.toString.call(_)==="[object Promise]")return Promise}catch{}}function A(_,V){return _.bind(V)}var I={isClass:C,isIdentifier:x,inheritedDataKeys:l,getDataPropertyOrDefault:f,thrower:r,isArray:e.isArray,asArray:D,notEnumerableProp:h,isPrimitive:t,isObject:s,isError:W,canEvaluate:E,errorObj:w,tryCatch:b,inherits:u,withAppended:i,maybeWrapAsError:a,toFastProperties:k,filledRange:q,toString:Q,canAttachTrace:X,ensureErrorObject:re,originatesFromRejection:M,markAsOriginatingFromRejection:B,classString:y,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:n,hasEnvVariables:m,env:T,global:g,getNativePromise:j,domainBind:A};I.isRecentNode=I.isNode&&function(){var _=process.versions.node.split(".").map(Number);return _[0]===0&&_[1]>10||_[0]>0}(),I.isNode&&I.toFastProperties(process);try{throw new Error}catch(_){I.lastLineError=_}return me=I,me}var de={exports:{}},be,et;function Bt(){if(et)return be;et=1;var e=J(),E,w=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},o=e.getNativePromise();if(e.isNode&&typeof MutationObserver>"u"){var g=fe.setImmediate,v=process.nextTick;E=e.isRecentNode?function(u){g.call(fe,u)}:function(u){v.call(process,u)}}else if(typeof o=="function"&&typeof o.resolve=="function"){var b=o.resolve();E=function(u){b.then(u)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?E=function(){var u=document.createElement("div"),t={attributes:!0},s=!1,a=document.createElement("div"),i=new MutationObserver(function(){u.classList.toggle("foo"),s=!1});i.observe(a,t);var f=function(){s||(s=!0,a.classList.toggle("foo"))};return function(r){var l=new MutationObserver(function(){l.disconnect(),r()});l.observe(u,t),f()}}():typeof setImmediate<"u"?E=function(u){setImmediate(u)}:typeof setTimeout<"u"?E=function(u){setTimeout(u,0)}:E=w;return be=E,be}var Ce,tt;function Ut(){if(tt)return Ce;tt=1;function e(w,o,g,v,b){for(var u=0;u<b;++u)g[u+v]=w[u+o],w[u+o]=void 0}function E(w){this._capacity=w,this._length=0,this._front=0}return E.prototype._willBeOverCapacity=function(w){return this._capacity<w},E.prototype._pushOne=function(w){var o=this.length();this._checkCapacity(o+1);var g=this._front+o&this._capacity-1;this[g]=w,this._length=o+1},E.prototype.push=function(w,o,g){var v=this.length()+3;if(this._willBeOverCapacity(v)){this._pushOne(w),this._pushOne(o),this._pushOne(g);return}var b=this._front+v-3;this._checkCapacity(v);var u=this._capacity-1;this[b+0&u]=w,this[b+1&u]=o,this[b+2&u]=g,this._length=v},E.prototype.shift=function(){var w=this._front,o=this[w];return this[w]=void 0,this._front=w+1&this._capacity-1,this._length--,o},E.prototype.length=function(){return this._length},E.prototype._checkCapacity=function(w){this._capacity<w&&this._resizeTo(this._capacity<<1)},E.prototype._resizeTo=function(w){var o=this._capacity;this._capacity=w;var g=this._front,v=this._length,b=g+v&o-1;e(this,0,this,o,b)},Ce=E,Ce}var rt;function Mt(){if(rt)return de.exports;rt=1;var e;try{throw new Error}catch(t){e=t}var E=Bt(),w=Ut(),o=J();function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new w(16),this._normalQueue=new w(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=E}g.prototype.setScheduler=function(t){var s=this._schedule;return this._schedule=t,this._customScheduler=!0,s},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(t,s){s?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+`
`),process.exit(2)):this.throwLater(t)},g.prototype.throwLater=function(t,s){if(arguments.length===1&&(s=t,t=function(){throw s}),typeof setTimeout<"u")setTimeout(function(){t(s)},0);else try{this._schedule(function(){t(s)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function v(t,s,a){this._lateQueue.push(t,s,a),this._queueTick()}function b(t,s,a){this._normalQueue.push(t,s,a),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}return o.hasDevTools?(g.prototype.invokeLater=function(t,s,a){this._trampolineEnabled?v.call(this,t,s,a):this._schedule(function(){setTimeout(function(){t.call(s,a)},100)})},g.prototype.invoke=function(t,s,a){this._trampolineEnabled?b.call(this,t,s,a):this._schedule(function(){t.call(s,a)})},g.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(g.prototype.invokeLater=v,g.prototype.invoke=b,g.prototype.settlePromises=u),g.prototype._drainQueue=function(t){for(;t.length()>0;){var s=t.shift();if(typeof s!="function"){s._settlePromises();continue}var a=t.shift(),i=t.shift();s.call(a,i)}},g.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1},de.exports=g,de.exports.firstLineError=e,de.exports}var we,nt;function oe(){if(nt)return we;nt=1;var e=he(),E=e.freeze,w=J(),o=w.inherits,g=w.notEnumerableProp;function v(C,k){function F(x){if(!(this instanceof F))return new F(x);g(this,"message",typeof x=="string"?x:k),g(this,"name",C),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(F,Error),F}var b,u,t=v("Warning","warning"),s=v("CancellationError","cancellation error"),a=v("TimeoutError","timeout error"),i=v("AggregateError","aggregate error");try{b=TypeError,u=RangeError}catch{b=v("TypeError","type error"),u=v("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),h=0;h<f.length;++h)typeof Array.prototype[f[h]]=="function"&&(i.prototype[f[h]]=Array.prototype[f[h]]);e.defineProperty(i.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),i.prototype.isOperational=!0;var r=0;i.prototype.toString=function(){var C=Array(r*4+1).join(" "),k=`
`+C+`AggregateError of:
`;r++,C=Array(r*4+1).join(" ");for(var F=0;F<this.length;++F){for(var x=this[F]===this?"[Circular AggregateError]":this[F]+"",q=x.split(`
`),Q=0;Q<q.length;++Q)q[Q]=C+q[Q];x=q.join(`
`),k+=x+`
`}return r--,k};function l(C){if(!(this instanceof l))return new l(C);g(this,"name","OperationalError"),g(this,"message",C),this.cause=C,this.isOperational=!0,C instanceof Error?(g(this,"message",C.message),g(this,"stack",C.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}o(l,Error);var p=Error.__BluebirdErrorTypes__;return p||(p=E({CancellationError:s,TimeoutError:a,OperationalError:l,RejectionError:l,AggregateError:i}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:p,writable:!1,enumerable:!1,configurable:!1})),we={Error,TypeError:b,RangeError:u,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:t},we}var Ee,it;function Lt(){return it||(it=1,Ee=function(e,E){var w=J(),o=w.errorObj,g=w.isObject;function v(i,f){if(g(i)){if(i instanceof e)return i;var h=u(i);if(h===o){f&&f._pushContext();var r=e.reject(h.e);return f&&f._popContext(),r}else if(typeof h=="function"){if(s(i)){var r=new e(E);return i._then(r._fulfill,r._reject,void 0,r,null),r}return a(i,h,f)}}return i}function b(i){return i.then}function u(i){try{return b(i)}catch(f){return o.e=f,o}}var t={}.hasOwnProperty;function s(i){try{return t.call(i,"_promise0")}catch{return!1}}function a(i,f,h){var r=new e(E),l=r;h&&h._pushContext(),r._captureStackTrace(),h&&h._popContext();var p=!0,C=w.tryCatch(f).call(i,k,F);p=!1,r&&C===o&&(r._rejectCallback(C.e,!0,!0),r=null);function k(x){r&&(r._resolveCallback(x),r=null)}function F(x){r&&(r._rejectCallback(x,p,!0),r=null)}return l}return v}),Ee}var Fe,at;function Gt(){return at||(at=1,Fe=function(e,E,w,o,g){var v=J();v.isArray;function b(t){switch(t){case-2:return[];case-3:return{}}}function u(t){var s=this._promise=new e(E);t instanceof e&&s._propagateFrom(t,3),s._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return v.inherits(u,g),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function t(s,a){var i=w(this._values,this._promise);if(i instanceof e){i=i._target();var f=i._bitField;if(this._values=i,f&50397184)if(f&33554432)i=i._value();else return f&16777216?this._reject(i._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),i._then(t,this._reject,void 0,this,a)}if(i=v.asArray(i),i===null){var h=o("expecting an array or an iterable object but got "+v.classString(i)).reason();this._promise._rejectCallback(h,!1);return}if(i.length===0){a===-5?this._resolveEmptyArray():this._resolve(b(a));return}this._iterate(i)},u.prototype._iterate=function(t){var s=this.getActualLength(t.length);this._length=s,this._values=this.shouldCopyValues()?new Array(s):this._values;for(var a=this._promise,i=!1,f=null,h=0;h<s;++h){var r=w(t[h],a);r instanceof e?(r=r._target(),f=r._bitField):f=null,i?f!==null&&r.suppressUnhandledRejections():f!==null?f&50397184?f&33554432?i=this._promiseFulfilled(r._value(),h):f&16777216?i=this._promiseRejected(r._reason(),h):i=this._promiseCancelled(h):(r._proxy(this,h),this._values[h]=r):i=this._promiseFulfilled(r,h)}i||a._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},u.prototype._promiseFulfilled=function(t,s){this._values[s]=t;var a=++this._totalResolved;return a>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var s=0;s<t.length;++s)t[s]instanceof e&&t[s].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(t){return t},u}),Fe}var ke,ot;function Qt(){return ot||(ot=1,ke=function(e){var E=!1,w=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function o(){this._trace=new o.CapturedTrace(v())}o.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,w.push(this._trace))},o.prototype._popContext=function(){if(this._trace!==void 0){var b=w.pop(),u=b._promiseCreated;return b._promiseCreated=null,u}return null};function g(){if(E)return new o}function v(){var b=w.length-1;if(b>=0)return w[b]}return o.CapturedTrace=null,o.create=g,o.deactivateLongStackTraces=function(){},o.activateLongStackTraces=function(){var b=e.prototype._pushContext,u=e.prototype._popContext,t=e._peekContext,s=e.prototype._peekContext,a=e.prototype._promiseCreated;o.deactivateLongStackTraces=function(){e.prototype._pushContext=b,e.prototype._popContext=u,e._peekContext=t,e.prototype._peekContext=s,e.prototype._promiseCreated=a,E=!1},E=!0,e.prototype._pushContext=o.prototype._pushContext,e.prototype._popContext=o.prototype._popContext,e._peekContext=e.prototype._peekContext=v,e.prototype._promiseCreated=function(){var i=this._peekContext();i&&i._promiseCreated==null&&(i._promiseCreated=this)}},o}),ke}var Te,st;function Wt(){return st||(st=1,Te=function(e,E){var w=e._getDomain,o=e._async,g=oe().Warning,v=J(),b=v.canAttachTrace,u,t,s=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,a=/\((?:timers\.js):\d+:\d+\)/,i=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,h=null,r=!1,l,p=!!(v.env("BLUEBIRD_DEBUG")!=0&&(v.env("BLUEBIRD_DEBUG")||v.env("NODE_ENV")==="development")),C=!!(v.env("BLUEBIRD_WARNINGS")!=0&&(p||v.env("BLUEBIRD_WARNINGS"))),k=!!(v.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(p||v.env("BLUEBIRD_LONG_STACK_TRACES"))),F=v.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(C||!!v.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var c=this._target();c._bitField=c._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){ce("rejectionHandled",u,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var c=this._settledValue();this._setUnhandledRejectionIsNotified(),ce("unhandledRejection",t,c,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(c,d,R){return z(c,d,R||this)},e.onPossiblyUnhandledRejection=function(c){var d=w();t=typeof c=="function"?d===null?c:v.domainBind(d,c):void 0},e.onUnhandledRejectionHandled=function(c){var d=w();u=typeof c=="function"?d===null?c:v.domainBind(d,c):void 0};var x=function(){};e.longStackTraces=function(){if(o.haveItemsQueued()&&!P.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!P.longStackTraces&&ve()){var c=e.prototype._captureStackTrace,d=e.prototype._attachExtraTrace;P.longStackTraces=!0,x=function(){if(o.haveItemsQueued()&&!P.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=c,e.prototype._attachExtraTrace=d,E.deactivateLongStackTraces(),o.enableTrampoline(),P.longStackTraces=!1},e.prototype._captureStackTrace=A,e.prototype._attachExtraTrace=I,E.activateLongStackTraces(),o.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return P.longStackTraces&&ve()};var q=function(){try{if(typeof CustomEvent=="function"){var c=new CustomEvent("CustomEvent");return v.global.dispatchEvent(c),function(d,R){var S=new CustomEvent(d.toLowerCase(),{detail:R,cancelable:!0});return!v.global.dispatchEvent(S)}}else if(typeof Event=="function"){var c=new Event("CustomEvent");return v.global.dispatchEvent(c),function(R,S){var N=new Event(R.toLowerCase(),{cancelable:!0});return N.detail=S,!v.global.dispatchEvent(N)}}else{var c=document.createEvent("CustomEvent");return c.initCustomEvent("testingtheevent",!1,!0,{}),v.global.dispatchEvent(c),function(R,S){var N=document.createEvent("CustomEvent");return N.initCustomEvent(R.toLowerCase(),!1,!0,S),!v.global.dispatchEvent(N)}}}catch{}return function(){return!1}}(),Q=function(){return v.isNode?function(){return process.emit.apply(process,arguments)}:v.global?function(c){var d="on"+c.toLowerCase(),R=v.global[d];return R?(R.apply(v.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function W(c,d){return{promise:d}}var B={promiseCreated:W,promiseFulfilled:W,promiseRejected:W,promiseResolved:W,promiseCancelled:W,promiseChained:function(c,d,R){return{promise:d,child:R}},warning:function(c,d){return{warning:d}},unhandledRejection:function(c,d,R){return{reason:d,promise:R}},rejectionHandled:W},M=function(c){var d=!1;try{d=Q.apply(null,arguments)}catch(S){o.throwLater(S),d=!0}var R=!1;try{R=q(c,B[c].apply(null,arguments))}catch(S){o.throwLater(S),R=!0}return R||d};e.config=function(c){if(c=Object(c),"longStackTraces"in c&&(c.longStackTraces?e.longStackTraces():!c.longStackTraces&&e.hasLongStackTraces()&&x()),"warnings"in c){var d=c.warnings;P.warnings=!!d,F=P.warnings,v.isObject(d)&&"wForgottenReturn"in d&&(F=!!d.wForgottenReturn)}if("cancellation"in c&&c.cancellation&&!P.cancellation){if(o.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=G,e.prototype._propagateFrom=n,e.prototype._onCancel=O,e.prototype._setOnCancel=D,e.prototype._attachCancellationCallback=y,e.prototype._execute=re,T=n,P.cancellation=!0}return"monitoring"in c&&(c.monitoring&&!P.monitoring?(P.monitoring=!0,e.prototype._fireEvent=M):!c.monitoring&&P.monitoring&&(P.monitoring=!1,e.prototype._fireEvent=X)),e};function X(){return!1}e.prototype._fireEvent=X,e.prototype._execute=function(c,d,R){try{c(d,R)}catch(S){return S}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(c){},e.prototype._attachCancellationCallback=function(c){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(c,d){};function re(c,d,R){var S=this;try{c(d,R,function(N){if(typeof N!="function")throw new TypeError("onCancel must be a function, got: "+v.toString(N));S._attachCancellationCallback(N)})}catch(N){return N}}function y(c){if(!this._isCancellable())return this;var d=this._onCancel();d!==void 0?v.isArray(d)?d.push(c):this._setOnCancel([d,c]):this._setOnCancel(c)}function O(){return this._onCancelField}function D(c){this._onCancelField=c}function G(){this._cancellationParent=void 0,this._onCancelField=void 0}function n(c,d){if(d&1){this._cancellationParent=c;var R=c._branchesRemainingToCancel;R===void 0&&(R=0),c._branchesRemainingToCancel=R+1}d&2&&c._isBound()&&this._setBoundTo(c._boundTo)}function m(c,d){d&2&&c._isBound()&&this._setBoundTo(c._boundTo)}var T=m;function j(){var c=this._boundTo;return c!==void 0&&c instanceof e?c.isFulfilled()?c.value():void 0:c}function A(){this._trace=new le(this._peekContext())}function I(c,d){if(b(c)){var R=this._trace;if(R!==void 0&&d&&(R=R._parent),R!==void 0)R.attachExtraTrace(c);else if(!c.__stackCleaned__){var S=se(c);v.notEnumerableProp(c,"stack",S.message+`
`+S.stack.join(`
`)),v.notEnumerableProp(c,"__stackCleaned__",!0)}}}function _(c,d,R,S,N){if(c===void 0&&d!==null&&F){if(N!==void 0&&N._returnedNonUndefined()||!(S._bitField&65535))return;R&&(R=R+" ");var Z="",K="";if(d._trace){for(var U=d._trace.stack.split(`
`),Y=te(U),ee=Y.length-1;ee>=0;--ee){var ie=Y[ee];if(!a.test(ie)){var ae=ie.match(i);ae&&(Z="at "+ae[1]+":"+ae[2]+":"+ae[3]+" ");break}}if(Y.length>0){for(var Ht=Y[0],ee=0;ee<U.length;++ee)if(U[ee]===Ht){ee>0&&(K=`
`+U[ee-1]);break}}}var Nt="a promise was created in a "+R+"handler "+Z+"but was not returned from it, see http://goo.gl/rRqMUw"+K;S._warn(Nt,!0,d)}}function V(c,d){var R=c+" is deprecated and will be removed in a future version.";return d&&(R+=" Use "+d+" instead."),z(R)}function z(c,d,R){if(P.warnings){var S=new g(c),N;if(d)R._attachExtraTrace(S);else if(P.longStackTraces&&(N=e._peekContext()))N.attachExtraTrace(S);else{var Z=se(S);S.stack=Z.message+`
`+Z.stack.join(`
`)}M("warning",S)||ue(S,"",!0)}}function L(c,d){for(var R=0;R<d.length-1;++R)d[R].push("From previous event:"),d[R]=d[R].join(`
`);return R<d.length&&(d[R]=d[R].join(`
`)),c+`
`+d.join(`
`)}function H(c){for(var d=0;d<c.length;++d)(c[d].length===0||d+1<c.length&&c[d][0]===c[d+1][0])&&(c.splice(d,1),d--)}function $(c){for(var d=c[0],R=1;R<c.length;++R){for(var S=c[R],N=d.length-1,Z=d[N],K=-1,U=S.length-1;U>=0;--U)if(S[U]===Z){K=U;break}for(var U=K;U>=0;--U){var Y=S[U];if(d[N]===Y)d.pop(),N--;else break}d=S}}function te(c){for(var d=[],R=0;R<c.length;++R){var S=c[R],N=S==="    (No stack trace)"||f.test(S),Z=N&&ye(S);N&&!Z&&(r&&S.charAt(0)!==" "&&(S="    "+S),d.push(S))}return d}function ne(c){for(var d=c.stack.replace(/\s+$/g,"").split(`
`),R=0;R<d.length;++R){var S=d[R];if(S==="    (No stack trace)"||f.test(S))break}return R>0&&c.name!="SyntaxError"&&(d=d.slice(R)),d}function se(c){var d=c.stack,R=c.toString();return d=typeof d=="string"&&d.length>0?ne(c):["    (No stack trace)"],{message:R,stack:c.name=="SyntaxError"?d:te(d)}}function ue(c,d,R){if(typeof console<"u"){var S;if(v.isObject(c)){var N=c.stack;S=d+h(N,c)}else S=d+String(c);typeof l=="function"?l(S,R):(typeof console.log=="function"||typeof console.log=="object")&&console.log(S)}}function ce(c,d,R,S){var N=!1;try{typeof d=="function"&&(N=!0,c==="rejectionHandled"?d(S):d(R,S))}catch(Z){o.throwLater(Z)}c==="unhandledRejection"?!M(c,R,S)&&!N&&ue(R,"Unhandled rejection "):M(c,S)}function _e(c){var d;if(typeof c=="function")d="[function "+(c.name||"anonymous")+"]";else{d=c&&typeof c.toString=="function"?c.toString():v.toString(c);var R=/\[object [a-zA-Z0-9$_]+\]/;if(R.test(d))try{var S=JSON.stringify(c);d=S}catch{}d.length===0&&(d="(empty array)")}return"(<"+Dt(d)+">, no stack trace)"}function Dt(c){var d=41;return c.length<d?c:c.substr(0,d-3)+"..."}function ve(){return typeof Ye=="function"}var ye=function(){return!1},It=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ge(c){var d=c.match(It);if(d)return{fileName:d[1],line:parseInt(d[2],10)}}function Vt(c,d){if(ve()){for(var R=c.stack.split(`
`),S=d.stack.split(`
`),N=-1,Z=-1,K,U,Y=0;Y<R.length;++Y){var ee=ge(R[Y]);if(ee){K=ee.fileName,N=ee.line;break}}for(var Y=0;Y<S.length;++Y){var ee=ge(S[Y]);if(ee){U=ee.fileName,Z=ee.line;break}}N<0||Z<0||!K||!U||K!==U||N>=Z||(ye=function(ie){if(s.test(ie))return!0;var ae=ge(ie);return!!(ae&&ae.fileName===K&&N<=ae.line&&ae.line<=Z)})}}function le(c){this._parent=c,this._promisesCreated=0;var d=this._length=1+(c===void 0?0:c._length);Ye(this,le),d>32&&this.uncycle()}v.inherits(le,Error),E.CapturedTrace=le,le.prototype.uncycle=function(){var c=this._length;if(!(c<2)){for(var d=[],R={},S=0,N=this;N!==void 0;++S)d.push(N),N=N._parent;c=this._length=S;for(var S=c-1;S>=0;--S){var Z=d[S].stack;R[Z]===void 0&&(R[Z]=S)}for(var S=0;S<c;++S){var K=d[S].stack,U=R[K];if(U!==void 0&&U!==S){U>0&&(d[U-1]._parent=void 0,d[U-1]._length=1),d[S]._parent=void 0,d[S]._length=1;var Y=S>0?d[S-1]:this;U<c-1?(Y._parent=d[U+1],Y._parent.uncycle(),Y._length=Y._parent._length+1):(Y._parent=void 0,Y._length=1);for(var ee=Y._length+1,ie=S-2;ie>=0;--ie)d[ie]._length=ee,ee++;return}}}},le.prototype.attachExtraTrace=function(c){if(!c.__stackCleaned__){this.uncycle();for(var d=se(c),R=d.message,S=[d.stack],N=this;N!==void 0;)S.push(te(N.stack.split(`
`))),N=N._parent;$(S),H(S),v.notEnumerableProp(c,"stack",L(R,S)),v.notEnumerableProp(c,"__stackCleaned__",!0)}};var Ye=function(){var d=/^\s*at\s*/,R=function(K,U){return typeof K=="string"?K:U.name!==void 0&&U.message!==void 0?U.toString():_e(U)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=d,h=R;var S=Error.captureStackTrace;return ye=function(K){return s.test(K)},function(K,U){Error.stackTraceLimit+=6,S(K,U),Error.stackTraceLimit-=6}}var N=new Error;if(typeof N.stack=="string"&&N.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,h=R,r=!0,function(U){U.stack=new Error().stack};var Z;try{throw new Error}catch(K){Z="stack"in K}return!("stack"in N)&&Z&&typeof Error.stackTraceLimit=="number"?(f=d,h=R,function(U){Error.stackTraceLimit+=6;try{throw new Error}catch(Y){U.stack=Y.stack}Error.stackTraceLimit-=6}):(h=function(K,U){return typeof K=="string"?K:(typeof U=="object"||typeof U=="function")&&U.name!==void 0&&U.message!==void 0?U.toString():_e(U)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(l=function(c){console.warn(c)},v.isNode&&process.stderr.isTTY?l=function(c,d){var R=d?"\x1B[33m":"\x1B[31m";console.warn(R+c+`\x1B[0m
`)}:!v.isNode&&typeof new Error().stack=="string"&&(l=function(c,d){console.warn("%c"+c,d?"color: darkorange":"color: red")}));var P={warnings:C,longStackTraces:!1,cancellation:!1,monitoring:!1};return k&&e.longStackTraces(),{longStackTraces:function(){return P.longStackTraces},warnings:function(){return P.warnings},cancellation:function(){return P.cancellation},monitoring:function(){return P.monitoring},propagateFromFunction:function(){return T},boundValueFunction:function(){return j},checkForgottenReturns:_,setBounds:Vt,warn:z,deprecated:V,CapturedTrace:le,fireDomEvent:q,fireGlobalEvent:Q}}),Te}var Re,ut;function zt(){return ut||(ut=1,Re=function(e,E){var w=J(),o=e.CancellationError,g=w.errorObj;function v(i,f,h){this.promise=i,this.type=f,this.handler=h,this.called=!1,this.cancelPromise=null}v.prototype.isFinallyHandler=function(){return this.type===0};function b(i){this.finallyHandler=i}b.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(i,f){return i.cancelPromise!=null?(arguments.length>1?i.cancelPromise._reject(f):i.cancelPromise._cancel(),i.cancelPromise=null,!0):!1}function t(){return a.call(this,this.promise._target()._settledValue())}function s(i){if(!u(this,i))return g.e=i,g}function a(i){var f=this.promise,h=this.handler;if(!this.called){this.called=!0;var r=this.isFinallyHandler()?h.call(f._boundValue()):h.call(f._boundValue(),i);if(r!==void 0){f._setReturnedNonUndefined();var l=E(r,f);if(l instanceof e){if(this.cancelPromise!=null)if(l._isCancelled()){var p=new o("late cancellation observer");return f._attachExtraTrace(p),g.e=p,g}else l.isPending()&&l._attachCancellationCallback(new b(this));return l._then(t,s,void 0,this,void 0)}}}return f.isRejected()?(u(this),g.e=i,g):(u(this),i)}return e.prototype._passThrough=function(i,f,h,r){return typeof i!="function"?this.then():this._then(h,r,void 0,new v(this,f,i),void 0)},e.prototype.lastly=e.prototype.finally=function(i){return this._passThrough(i,0,a,a)},e.prototype.tap=function(i){return this._passThrough(i,1,a)},v}),Re}var je,lt;function $t(){return lt||(lt=1,je=function(e){var E=J(),w=he().keys,o=E.tryCatch,g=E.errorObj;function v(b,u,t){return function(s){var a=t._boundValue();e:for(var i=0;i<b.length;++i){var f=b[i];if(f===Error||f!=null&&f.prototype instanceof Error){if(s instanceof f)return o(u).call(a,s)}else if(typeof f=="function"){var h=o(f).call(a,s);if(h===g)return h;if(h)return o(u).call(a,s)}else if(E.isObject(s)){for(var r=w(f),l=0;l<r.length;++l){var p=r[l];if(f[p]!=s[p])continue e}return o(u).call(a,s)}}return e}}return v}),je}var Se,ct;function qt(){if(ct)return Se;ct=1;var e=J(),E=e.maybeWrapAsError,w=oe(),o=w.OperationalError,g=he();function v(s){return s instanceof Error&&g.getPrototypeOf(s)===Error.prototype}var b=/^(?:name|message|stack|cause)$/;function u(s){var a;if(v(s)){a=new o(s),a.name=s.name,a.message=s.message,a.stack=s.stack;for(var i=g.keys(s),f=0;f<i.length;++f){var h=i[f];b.test(h)||(a[h]=s[h])}return a}return e.markAsOriginatingFromRejection(s),s}function t(s,a){return function(i,f){if(s!==null){if(i){var h=u(E(i));s._attachExtraTrace(h),s._reject(h)}else if(!a)s._fulfill(f);else{for(var r=arguments.length,l=new Array(Math.max(r-1,0)),p=1;p<r;++p)l[p-1]=arguments[p];s._fulfill(l)}s=null}}}return Se=t,Se}var Ae,ft;function Xt(){return ft||(ft=1,Ae=function(e,E,w,o,g){var v=J(),b=v.tryCatch;e.method=function(u){if(typeof u!="function")throw new e.TypeError("expecting a function but got "+v.classString(u));return function(){var t=new e(E);t._captureStackTrace(),t._pushContext();var s=b(u).apply(this,arguments),a=t._popContext();return g.checkForgottenReturns(s,a,"Promise.method",t),t._resolveFromSyncValue(s),t}},e.attempt=e.try=function(u){if(typeof u!="function")return o("expecting a function but got "+v.classString(u));var t=new e(E);t._captureStackTrace(),t._pushContext();var s;if(arguments.length>1){g.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],i=arguments[2];s=v.isArray(a)?b(u).apply(i,a):b(u).call(i,a)}else s=b(u)();var f=t._popContext();return g.checkForgottenReturns(s,f,"Promise.try",t),t._resolveFromSyncValue(s),t},e.prototype._resolveFromSyncValue=function(u){u===v.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}),Ae}var Oe,ht;function Kt(){return ht||(ht=1,Oe=function(e,E,w,o){var g=!1,v=function(s,a){this._reject(a)},b=function(s,a){a.promiseRejectionQueued=!0,a.bindingPromise._then(v,v,null,this,s)},u=function(s,a){this._bitField&50397184||this._resolveCallback(a.target)},t=function(s,a){a.promiseRejectionQueued||this._reject(s)};e.prototype.bind=function(s){g||(g=!0,e.prototype._propagateFrom=o.propagateFromFunction(),e.prototype._boundValue=o.boundValueFunction());var a=w(s),i=new e(E);i._propagateFrom(this,1);var f=this._target();if(i._setBoundTo(a),a instanceof e){var h={promiseRejectionQueued:!1,promise:i,target:f,bindingPromise:a};f._then(E,b,void 0,i,h),a._then(u,t,void 0,i,h),i._setOnCancel(a)}else i._resolveCallback(f);return i},e.prototype._setBoundTo=function(s){s!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=s):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(s,a){return e.resolve(a).bind(s)}}),Oe}var xe,pt;function Jt(){return pt||(pt=1,xe=function(e,E,w,o){var g=J(),v=g.tryCatch,b=g.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,s=t;t._isCancellable();){if(!t._cancelBy(s)){s._isFollowing()?s._followee().cancel():s._cancelBranched();break}var a=t._cancellationParent;if(a==null||!a._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}else t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),s=t,t=a}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,s){if(g.isArray(t))for(var a=0;a<t.length;++a)this._doInvokeOnCancel(t[a],s);else if(t!==void 0)if(typeof t=="function"){if(!s){var i=v(t).call(this._boundValue());i===b&&(this._attachExtraTrace(i.e),u.throwLater(i.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),xe}var qe,dt;function Yt(){return dt||(dt=1,qe=function(e){function E(){return this.value}function w(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(o){return o instanceof e&&o.suppressUnhandledRejections(),this._then(E,void 0,void 0,{value:o},void 0)},e.prototype.throw=e.prototype.thenThrow=function(o){return this._then(w,void 0,void 0,{reason:o},void 0)},e.prototype.catchThrow=function(o){if(arguments.length<=1)return this._then(void 0,w,void 0,{reason:o},void 0);var g=arguments[1],v=function(){throw g};return this.caught(o,v)},e.prototype.catchReturn=function(o){if(arguments.length<=1)return o instanceof e&&o.suppressUnhandledRejections(),this._then(void 0,E,void 0,{value:o},void 0);var g=arguments[1];g instanceof e&&g.suppressUnhandledRejections();var v=function(){return g};return this.caught(o,v)}}),qe}var De,_t;function Zt(){return _t||(_t=1,De=function(e){function E(t){t!==void 0?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}E.prototype._settledValue=function(){return this._settledValueField};var w=E.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=E.prototype.error=E.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=E.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},v=E.prototype.isRejected=function(){return(this._bitField&16777216)!==0},b=E.prototype.isPending=function(){return(this._bitField&50397184)===0},u=E.prototype.isResolved=function(){return(this._bitField&50331648)!==0};E.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return b.call(this._target())},e.prototype.isRejected=function(){return v.call(this._target())},e.prototype.isFulfilled=function(){return g.call(this._target())},e.prototype.isResolved=function(){return u.call(this._target())},e.prototype.value=function(){return w.call(this._target())},e.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),o.call(t)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=E}),De}var Ie,vt;function Pt(){return vt||(vt=1,Ie=function(e,E,w,o,g,v){var b=J(),u=b.canEvaluate,t=b.tryCatch,s=b.errorObj,a;if(u){for(var i=function(k){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,k))},f=function(k){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,k))},h=function(k){for(var F=new Array(k),x=0;x<F.length;++x)F[x]="this.p"+(x+1);var q=F.join(" = ")+" = null;",Q=`var promise;
`+F.map(function(X){return`                                                         
	                promise = `+X+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),W=F.join(", "),B="Holder$"+k,M=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return M=M.replace(/\[TheName\]/g,B).replace(/\[TheTotal\]/g,k).replace(/\[ThePassedArguments\]/g,W).replace(/\[TheProperties\]/g,q).replace(/\[CancellationCode\]/g,Q),new Function("tryCatch","errorObj","Promise","async",M)(t,s,e,g)},r=[],l=[],p=[],C=0;C<8;++C)r.push(h(C+1)),l.push(i(C+1)),p.push(f(C+1));a=function(k){this._reject(k)}}e.join=function(){var k=arguments.length-1,F;if(k>0&&typeof arguments[k]=="function"&&(F=arguments[k],k<=8&&u)){var D=new e(o);D._captureStackTrace();for(var x=r[k-1],q=new x(F),Q=l,W=0;W<k;++W){var B=w(arguments[W],D);if(B instanceof e){B=B._target();var M=B._bitField;M&50397184?M&33554432?Q[W].call(D,B._value(),q):M&16777216?D._reject(B._reason()):D._cancel():(B._then(Q[W],a,void 0,D,q),p[W](B,q),q.asyncNeeded=!1)}else Q[W].call(D,B,q)}if(!D._isFateSealed()){if(q.asyncNeeded){var X=v();X!==null&&(q.fn=b.domainBind(X,q.fn))}D._setAsyncGuaranteed(),D._setOnCancel(q)}return D}for(var re=arguments.length,y=new Array(re),O=0;O<re;++O)y[O]=arguments[O];F&&y.pop();var D=new E(y).promise();return F!==void 0?D.spread(F):D}}),Ie}var Ve,yt;function er(){return yt||(yt=1,Ve=function(e,E,w,o,g,v){var b=e._getDomain,u=J(),t=u.tryCatch,s=u.errorObj,a=e._async;function i(h,r,l,p){this.constructor$(h),this._promise._captureStackTrace();var C=b();this._callback=C===null?r:u.domainBind(C,r),this._preservedValues=p===g?new Array(this.length()):null,this._limit=l,this._inFlight=0,this._queue=[],a.invoke(this._asyncInit,this,void 0)}u.inherits(i,E),i.prototype._asyncInit=function(){this._init$(void 0,-2)},i.prototype._init=function(){},i.prototype._promiseFulfilled=function(h,r){var l=this._values,p=this.length(),C=this._preservedValues,k=this._limit;if(r<0){if(r=r*-1-1,l[r]=h,k>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(k>=1&&this._inFlight>=k)return l[r]=h,this._queue.push(r),!1;C!==null&&(C[r]=h);var F=this._promise,x=this._callback,q=F._boundValue();F._pushContext();var Q=t(x).call(q,h,r,p),W=F._popContext();if(v.checkForgottenReturns(Q,W,C!==null?"Promise.filter":"Promise.map",F),Q===s)return this._reject(Q.e),!0;var B=o(Q,this._promise);if(B instanceof e){B=B._target();var M=B._bitField;if(M&50397184)if(M&33554432)Q=B._value();else return M&16777216?(this._reject(B._reason()),!0):(this._cancel(),!0);else return k>=1&&this._inFlight++,l[r]=B,B._proxy(this,(r+1)*-1),!1}l[r]=Q}var X=++this._totalResolved;return X>=p?(C!==null?this._filter(l,C):this._resolve(l),!0):!1},i.prototype._drainQueue=function(){for(var h=this._queue,r=this._limit,l=this._values;h.length>0&&this._inFlight<r;){if(this._isResolved())return;var p=h.pop();this._promiseFulfilled(l[p],p)}},i.prototype._filter=function(h,r){for(var l=r.length,p=new Array(l),C=0,k=0;k<l;++k)h[k]&&(p[C++]=r[k]);p.length=C,this._resolve(p)},i.prototype.preservedValues=function(){return this._preservedValues};function f(h,r,l,p){if(typeof r!="function")return w("expecting a function but got "+u.classString(r));var C=0;if(l!==void 0)if(typeof l=="object"&&l!==null){if(typeof l.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(l.concurrency)));C=l.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+u.classString(l)));return C=typeof C=="number"&&isFinite(C)&&C>=1?C:0,new i(h,r,C,p).promise()}e.prototype.map=function(h,r){return f(this,h,r,null)},e.map=function(h,r,l,p){return f(h,r,l,p)}}),Ve}var He,gt;function tr(){if(gt)return He;gt=1;var e=Object.create;if(e){var E=e(null),w=e(null);E[" size"]=w[" size"]=0}return He=function(o){var g=J(),v=g.canEvaluate,b=g.isIdentifier,u,t;{var s=function(p){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,p))(f)},a=function(p){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",p))},i=function(p,C,k){var F=k[p];if(typeof F!="function"){if(!b(p))return null;if(F=C(p),k[p]=F,k[" size"]++,k[" size"]>512){for(var x=Object.keys(k),q=0;q<256;++q)delete k[x[q]];k[" size"]=x.length-256}}return F};u=function(p){return i(p,s,E)},t=function(p){return i(p,a,w)}}function f(p,C){var k;if(p!=null&&(k=p[C]),typeof k!="function"){var F="Object "+g.classString(p)+" has no method '"+g.toString(C)+"'";throw new o.TypeError(F)}return k}function h(p){var C=this.pop(),k=f(p,C);return k.apply(p,this)}o.prototype.call=function(p){for(var C=arguments.length,k=new Array(Math.max(C-1,0)),F=1;F<C;++F)k[F-1]=arguments[F];if(v){var x=u(p);if(x!==null)return this._then(x,void 0,void 0,k,void 0)}return k.push(p),this._then(h,void 0,void 0,k,void 0)};function r(p){return p[this]}function l(p){var C=+this;return C<0&&(C=Math.max(0,C+p.length)),p[C]}o.prototype.get=function(p){var C=typeof p=="number",k;if(C)k=l;else if(v){var F=t(p);k=F!==null?F:r}else k=r;return this._then(k,void 0,void 0,p,void 0)}},He}var Ne,mt;function rr(){return mt||(mt=1,Ne=function(e,E,w,o,g,v){var b=J(),u=oe().TypeError,t=J().inherits,s=b.errorObj,a=b.tryCatch,i={};function f(F){setTimeout(function(){throw F},0)}function h(F){var x=w(F);return x!==F&&typeof F._isDisposable=="function"&&typeof F._getDisposer=="function"&&F._isDisposable()&&x._setDisposable(F._getDisposer()),x}function r(F,x){var q=0,Q=F.length,W=new e(g);function B(){if(q>=Q)return W._fulfill();var M=h(F[q++]);if(M instanceof e&&M._isDisposable()){try{M=w(M._getDisposer().tryDispose(x),F.promise)}catch(X){return f(X)}if(M instanceof e)return M._then(B,f,null,null,null)}B()}return B(),W}function l(F,x,q){this._data=F,this._promise=x,this._context=q}l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():i},l.prototype.tryDispose=function(F){var x=this.resource(),q=this._context;q!==void 0&&q._pushContext();var Q=x!==i?this.doDispose(x,F):null;return q!==void 0&&q._popContext(),this._promise._unsetDisposable(),this._data=null,Q},l.isDisposer=function(F){return F!=null&&typeof F.resource=="function"&&typeof F.tryDispose=="function"};function p(F,x,q){this.constructor$(F,x,q)}t(p,l),p.prototype.doDispose=function(F,x){var q=this.data();return q.call(F,F,x)};function C(F){return l.isDisposer(F)?(this.resources[this.index]._setDisposable(F),F.promise()):F}function k(F){this.length=F,this.promise=null,this[F-1]=null}k.prototype._resultCancelled=function(){for(var F=this.length,x=0;x<F;++x){var q=this[x];q instanceof e&&q.cancel()}},e.using=function(){var F=arguments.length;if(F<2)return E("you must pass at least 2 arguments to Promise.using");var x=arguments[F-1];if(typeof x!="function")return E("expecting a function but got "+b.classString(x));var q,Q=!0;F===2&&Array.isArray(arguments[0])?(q=arguments[0],F=q.length,Q=!1):(q=arguments,F--);for(var W=new k(F),B=0;B<F;++B){var M=q[B];if(l.isDisposer(M)){var X=M;M=M.promise(),M._setDisposable(X)}else{var re=w(M);re instanceof e&&(M=re._then(C,null,null,{resources:W,index:B},void 0))}W[B]=M}for(var y=new Array(W.length),B=0;B<y.length;++B)y[B]=e.resolve(W[B]).reflect();var O=e.all(y).then(function(G){for(var n=0;n<G.length;++n){var m=G[n];if(m.isRejected())return s.e=m.error(),s;if(!m.isFulfilled()){O.cancel();return}G[n]=m.value()}D._pushContext(),x=a(x);var T=Q?x.apply(void 0,G):x(G),j=D._popContext();return v.checkForgottenReturns(T,j,"Promise.using",D),T}),D=O.lastly(function(){var G=new e.PromiseInspection(O);return r(W,G)});return W.promise=D,D._setOnCancel(W),D},e.prototype._setDisposable=function(F){this._bitField=this._bitField|131072,this._disposer=F},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(F){if(typeof F=="function")return new p(F,this,o());throw new u}}),Ne}var Be,bt;function nr(){return bt||(bt=1,Be=function(e,E,w){var o=J(),g=e.TimeoutError;function v(i){this.handle=i}v.prototype._resultCancelled=function(){clearTimeout(this.handle)};var b=function(i){return u(+this).thenReturn(i)},u=e.delay=function(i,f){var h,r;return f!==void 0?(h=e.resolve(f)._then(b,null,null,i,void 0),w.cancellation()&&f instanceof e&&h._setOnCancel(f)):(h=new e(E),r=setTimeout(function(){h._fulfill()},+i),w.cancellation()&&h._setOnCancel(new v(r)),h._captureStackTrace()),h._setAsyncGuaranteed(),h};e.prototype.delay=function(i){return u(i,this)};var t=function(i,f,h){var r;typeof f!="string"?f instanceof Error?r=f:r=new g("operation timed out"):r=new g(f),o.markAsOriginatingFromRejection(r),i._attachExtraTrace(r),i._reject(r),h!=null&&h.cancel()};function s(i){return clearTimeout(this.handle),i}function a(i){throw clearTimeout(this.handle),i}e.prototype.timeout=function(i,f){i=+i;var h,r,l=new v(setTimeout(function(){h.isPending()&&t(h,f,r)},i));return w.cancellation()?(r=this.then(),h=r._then(s,a,void 0,l,void 0),h._setOnCancel(l)):h=this._then(s,a,void 0,l,void 0),h}}),Be}var Ue,Ct;function ir(){return Ct||(Ct=1,Ue=function(e,E,w,o,g,v){var b=oe(),u=b.TypeError,t=J(),s=t.errorObj,a=t.tryCatch,i=[];function f(r,l,p){for(var C=0;C<l.length;++C){p._pushContext();var k=a(l[C])(r);if(p._popContext(),k===s){p._pushContext();var F=e.reject(s.e);return p._popContext(),F}var x=o(k,p);if(x instanceof e)return x}return null}function h(r,l,p,C){if(v.cancellation()){var k=new e(w),F=this._finallyPromise=new e(w);this._promise=k.lastly(function(){return F}),k._captureStackTrace(),k._setOnCancel(this)}else{var x=this._promise=new e(w);x._captureStackTrace()}this._stack=C,this._generatorFunction=r,this._receiver=l,this._generator=void 0,this._yieldHandlers=typeof p=="function"?[p].concat(i):i,this._yieldedPromise=null,this._cancellationPhase=!1}t.inherits(h,g),h.prototype._isResolved=function(){return this._promise===null},h.prototype._cleanup=function(){this._promise=this._generator=null,v.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var r=typeof this._generator.return<"u",l;if(r)this._promise._pushContext(),l=a(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var p=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=p,this._promise._attachExtraTrace(p),this._promise._pushContext(),l=a(this._generator.throw).call(this._generator,p),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(l)}},h.prototype._promiseFulfilled=function(r){this._yieldedPromise=null,this._promise._pushContext();var l=a(this._generator.next).call(this._generator,r);this._promise._popContext(),this._continue(l)},h.prototype._promiseRejected=function(r){this._yieldedPromise=null,this._promise._attachExtraTrace(r),this._promise._pushContext();var l=a(this._generator.throw).call(this._generator,r);this._promise._popContext(),this._continue(l)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var r=this._yieldedPromise;this._yieldedPromise=null,r.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(r){var l=this._promise;if(r===s)return this._cleanup(),this._cancellationPhase?l.cancel():l._rejectCallback(r.e,!1);var p=r.value;if(r.done===!0)return this._cleanup(),this._cancellationPhase?l.cancel():l._resolveCallback(p);var C=o(p,this._promise);if(!(C instanceof e)&&(C=f(C,this._yieldHandlers,this._promise),C===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",p)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}C=C._target();var k=C._bitField;k&50397184?k&33554432?e._async.invoke(this._promiseFulfilled,this,C._value()):k&16777216?e._async.invoke(this._promiseRejected,this,C._reason()):this._promiseCancelled():(this._yieldedPromise=C,C._proxy(this,null))},e.coroutine=function(r,l){if(typeof r!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var p=Object(l).yieldHandler,C=h,k=new Error().stack;return function(){var F=r.apply(this,arguments),x=new C(void 0,void 0,p,k),q=x.promise();return x._generator=F,x._promiseFulfilled(void 0),q}},e.coroutine.addYieldHandler=function(r){if(typeof r!="function")throw new u("expecting a function but got "+t.classString(r));i.push(r)},e.spawn=function(r){if(v.deprecated("Promise.spawn()","Promise.coroutine()"),typeof r!="function")return E(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var l=new h(r,this),p=l.promise();return l._run(e.spawn),p}}),Ue}var Me,wt;function ar(){return wt||(wt=1,Me=function(e){var E=J(),w=e._async,o=E.tryCatch,g=E.errorObj;function v(t,s){var a=this;if(!E.isArray(t))return b.call(a,t,s);var i=o(s).apply(a._boundValue(),[null].concat(t));i===g&&w.throwLater(i.e)}function b(t,s){var a=this,i=a._boundValue(),f=t===void 0?o(s).call(i,null):o(s).call(i,null,t);f===g&&w.throwLater(f.e)}function u(t,s){var a=this;if(!t){var i=new Error(t+"");i.cause=t,t=i}var f=o(s).call(a._boundValue(),t);f===g&&w.throwLater(f.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,s){if(typeof t=="function"){var a=b;s!==void 0&&Object(s).spread&&(a=v),this._then(a,u,void 0,this,t)}return this}}),Me}var Le,Et;function or(){return Et||(Et=1,Le=function(e,E){var w={},o=J(),g=qt(),v=o.withAppended,b=o.maybeWrapAsError,u=o.canEvaluate,t=oe().TypeError,s="Async",a={__isPromisified__:!0},i=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+i.join("|")+")$"),h=function(O){return o.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function r(O){return!f.test(O)}function l(O){try{return O.__isPromisified__===!0}catch{return!1}}function p(O,D,G){var n=o.getDataPropertyOrDefault(O,D+G,a);return n?l(n):!1}function C(O,D,G){for(var n=0;n<O.length;n+=2){var m=O[n];if(G.test(m)){for(var T=m.replace(G,""),j=0;j<O.length;j+=2)if(O[j]===T)throw new t(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",D))}}}function k(O,D,G,n){for(var m=o.inheritedDataKeys(O),T=[],j=0;j<m.length;++j){var A=m[j],I=O[A],_=n===h?!0:h(A);typeof I=="function"&&!l(I)&&!p(O,A,D)&&n(A,I,O,_)&&T.push(A,I)}return C(T,D,G),T}var F=function(O){return O.replace(/([$])/,"\\$")},x;{var q=function(O){for(var D=[O],G=Math.max(0,O-1-3),n=O-1;n>=G;--n)D.push(n);for(var n=O+1;n<=3;++n)D.push(n);return D},Q=function(O){return o.filledRange(O,"_arg","")},W=function(O){return o.filledRange(Math.max(O,3),"_arg","")},B=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};x=function(O,D,G,n,m,T){var j=Math.max(0,B(n)-1),A=q(j),I=typeof O=="string"||D===w;function _(H){var $=Q(H).join(", "),te=H>0?", ":"",ne;return I?ne=`ret = callback.call(this, {{args}}, nodeback); break;
`:ne=D===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ne.replace("{{args}}",$).replace(", ",te)}function V(){for(var H="",$=0;$<A.length;++$)H+="case "+A[$]+":"+_(A[$]);return H+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",I?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),H}var z=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",L=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+T+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",V()).replace("[GetFunctionCode]",z);return L=L.replace("Parameters",W(j)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",L)(e,n,D,v,b,g,o.tryCatch,o.errorObj,o.notEnumerableProp,E)}}function M(O,D,G,n,m,T){var j=function(){return this}(),A=O;typeof A=="string"&&(O=n);function I(){var _=D;D===w&&(_=this);var V=new e(E);V._captureStackTrace();var z=typeof A=="string"&&this!==j?this[A]:O,L=g(V,T);try{z.apply(_,v(arguments,L))}catch(H){V._rejectCallback(b(H),!0,!0)}return V._isFateSealed()||V._setAsyncGuaranteed(),V}return o.notEnumerableProp(I,"__isPromisified__",!0),I}var X=u?x:M;function re(O,D,G,n,m){for(var T=new RegExp(F(D)+"$"),j=k(O,D,T,G),A=0,I=j.length;A<I;A+=2){var _=j[A],V=j[A+1],z=_+D;if(n===X)O[z]=X(_,w,_,V,D,m);else{var L=n(V,function(){return X(_,w,_,V,D,m)});o.notEnumerableProp(L,"__isPromisified__",!0),O[z]=L}}return o.toFastProperties(O),O}function y(O,D,G){return X(O,D,void 0,O,null,G)}e.promisify=function(O,D){if(typeof O!="function")throw new t("expecting a function but got "+o.classString(O));if(l(O))return O;D=Object(D);var G=D.context===void 0?w:D.context,n=!!D.multiArgs,m=y(O,G,n);return o.copyDescriptors(O,m,r),m},e.promisifyAll=function(O,D){if(typeof O!="function"&&typeof O!="object")throw new t(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);D=Object(D);var G=!!D.multiArgs,n=D.suffix;typeof n!="string"&&(n=s);var m=D.filter;typeof m!="function"&&(m=h);var T=D.promisifier;if(typeof T!="function"&&(T=X),!o.isIdentifier(n))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var j=o.inheritedDataKeys(O),A=0;A<j.length;++A){var I=O[j[A]];j[A]!=="constructor"&&o.isClass(I)&&(re(I.prototype,n,m,T,G),re(I,n,m,T,G))}return re(O,n,m,T,G)}}),Le}var Ge,Ft;function sr(){return Ft||(Ft=1,Ge=function(e,E,w,o){var g=J(),v=g.isObject,b=he(),u;typeof Map=="function"&&(u=Map);var t=function(){var f=0,h=0;function r(l,p){this[f]=l,this[f+h]=p,f++}return function(p){h=p.size,f=0;var C=new Array(p.size*2);return p.forEach(r,C),C}}(),s=function(f){for(var h=new u,r=f.length/2|0,l=0;l<r;++l){var p=f[r+l],C=f[l];h.set(p,C)}return h};function a(f){var h=!1,r;if(u!==void 0&&f instanceof u)r=t(f),h=!0;else{var l=b.keys(f),p=l.length;r=new Array(p*2);for(var C=0;C<p;++C){var k=l[C];r[C]=f[k],r[C+p]=k}}this.constructor$(r),this._isMap=h,this._init$(void 0,-3)}g.inherits(a,E),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(f,h){this._values[h]=f;var r=++this._totalResolved;if(r>=this._length){var l;if(this._isMap)l=s(this._values);else{l={};for(var p=this.length(),C=0,k=this.length();C<k;++C)l[this._values[C+p]]=this._values[C]}return this._resolve(l),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(f){return f>>1};function i(f){var h,r=w(f);if(v(r))r instanceof e?h=r._then(e.props,void 0,void 0,void 0,void 0):h=new a(r).promise();else return o(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return r instanceof e&&h._propagateFrom(r,2),h}e.prototype.props=function(){return i(this)},e.props=function(f){return i(f)}}),Ge}var Qe,kt;function ur(){return kt||(kt=1,Qe=function(e,E,w,o){var g=J(),v=function(u){return u.then(function(t){return b(t,u)})};function b(u,t){var s=w(u);if(s instanceof e)return v(s);if(u=g.asArray(u),u===null)return o("expecting an array or an iterable object but got "+g.classString(u));var a=new e(E);t!==void 0&&a._propagateFrom(t,3);for(var i=a._fulfill,f=a._reject,h=0,r=u.length;h<r;++h){var l=u[h];l===void 0&&!(h in u)||e.cast(l)._then(i,f,void 0,a,null)}return a}e.race=function(u){return b(u,void 0)},e.prototype.race=function(){return b(this,void 0)}}),Qe}var We,Tt;function lr(){return Tt||(Tt=1,We=function(e,E,w,o,g,v){var b=e._getDomain,u=J(),t=u.tryCatch;function s(r,l,p,C){this.constructor$(r);var k=b();this._fn=k===null?l:u.domainBind(k,l),p!==void 0&&(p=e.resolve(p),p._attachCancellationCallback(this)),this._initialValue=p,this._currentCancellable=null,C===g?this._eachValues=Array(this._length):C===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(s,E),s.prototype._gotAccum=function(r){this._eachValues!==void 0&&this._eachValues!==null&&r!==g&&this._eachValues.push(r)},s.prototype._eachComplete=function(r){return this._eachValues!==null&&this._eachValues.push(r),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(r){this._promise._resolveCallback(r),this._values=null},s.prototype._resultCancelled=function(r){if(r===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},s.prototype._iterate=function(r){this._values=r;var l,p,C=r.length;if(this._initialValue!==void 0?(l=this._initialValue,p=0):(l=e.resolve(r[0]),p=1),this._currentCancellable=l,!l.isRejected())for(;p<C;++p){var k={accum:null,value:r[p],index:p,length:C,array:this};l=l._then(f,void 0,void 0,k,void 0)}this._eachValues!==void 0&&(l=l._then(this._eachComplete,void 0,void 0,this,void 0)),l._then(a,a,void 0,l,this)},e.prototype.reduce=function(r,l){return i(this,r,l,null)},e.reduce=function(r,l,p,C){return i(r,l,p,C)};function a(r,l){this.isFulfilled()?l._resolve(r):l._reject(r)}function i(r,l,p,C){if(typeof l!="function")return w("expecting a function but got "+u.classString(l));var k=new s(r,l,p,C);return k.promise()}function f(r){this.accum=r,this.array._gotAccum(r);var l=o(this.value,this.array._promise);return l instanceof e?(this.array._currentCancellable=l,l._then(h,void 0,void 0,this,void 0)):h.call(this,l)}function h(r){var l=this.array,p=l._promise,C=t(l._fn);p._pushContext();var k;l._eachValues!==void 0?k=C.call(p._boundValue(),r,this.index,this.length):k=C.call(p._boundValue(),this.accum,r,this.index,this.length),k instanceof e&&(l._currentCancellable=k);var F=p._popContext();return v.checkForgottenReturns(k,F,l._eachValues!==void 0?"Promise.each":"Promise.reduce",p),k}}),We}var ze,Rt;function cr(){return Rt||(Rt=1,ze=function(e,E,w){var o=e.PromiseInspection,g=J();function v(b){this.constructor$(b)}g.inherits(v,E),v.prototype._promiseResolved=function(b,u){this._values[b]=u;var t=++this._totalResolved;return t>=this._length?(this._resolve(this._values),!0):!1},v.prototype._promiseFulfilled=function(b,u){var t=new o;return t._bitField=33554432,t._settledValueField=b,this._promiseResolved(u,t)},v.prototype._promiseRejected=function(b,u){var t=new o;return t._bitField=16777216,t._settledValueField=b,this._promiseResolved(u,t)},e.settle=function(b){return w.deprecated(".settle()",".reflect()"),new v(b).promise()},e.prototype.settle=function(){return e.settle(this)}}),ze}var $e,jt;function fr(){return jt||(jt=1,$e=function(e,E,w){var o=J(),g=oe().RangeError,v=oe().AggregateError,b=o.isArray,u={};function t(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}o.inherits(t,E),t.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var a=b(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},t.prototype.init=function(){this._initialized=!0,this._init()},t.prototype.setUnwrap=function(){this._unwrap=!0},t.prototype.howMany=function(){return this._howMany},t.prototype.setHowMany=function(a){this._howMany=a},t.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},t.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},t.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},t.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new v,i=this.length();i<this._values.length;++i)this._values[i]!==u&&a.push(this._values[i]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},t.prototype._fulfilled=function(){return this._totalResolved},t.prototype._rejected=function(){return this._values.length-this.length()},t.prototype._addRejected=function(a){this._values.push(a)},t.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},t.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},t.prototype._getRangeError=function(a){var i="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new g(i)},t.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function s(a,i){if((i|0)!==i||i<0)return w(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new t(a),h=f.promise();return f.setHowMany(i),f.init(),h}e.some=function(a,i){return s(a,i)},e.prototype.some=function(a){return s(this,a)},e._SomePromiseArray=t}),$e}var Xe,St;function hr(){return St||(St=1,Xe=function(e,E){var w=e.map;e.prototype.filter=function(o,g){return w(this,o,g,E)},e.filter=function(o,g,v){return w(o,g,v,E)}}),Xe}var Ke,At;function pr(){return At||(At=1,Ke=function(e,E){var w=e.reduce,o=e.all;function g(){return o(this)}function v(b,u){return w(b,u,E,E)}e.prototype.each=function(b){return w(this,b,E,0)._then(g,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(b){return w(this,b,E,E)},e.each=function(b,u){return w(b,u,E,0)._then(g,void 0,void 0,b,void 0)},e.mapSeries=v}),Ke}var Je,Ot;function dr(){return Ot||(Ot=1,Je=function(e){var E=e._SomePromiseArray;function w(o){var g=new E(o),v=g.promise();return g.setHowMany(1),g.setUnwrap(),g.init(),v}e.any=function(o){return w(o)},e.prototype.any=function(){return w(this)}}),Je}(function(e){e.exports=function(){var E=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},w=function(){return new y.PromiseInspection(this._target())},o=function(n){return y.reject(new f(n))};function g(){}var v={},b=J(),u;b.isNode?u=function(){var n=process.domain;return n===void 0&&(n=null),n}:u=function(){return null},b.notEnumerableProp(y,"_getDomain",u);var t=he(),s=Mt(),a=new s;t.defineProperty(y,"_async",{value:a});var i=oe(),f=y.TypeError=i.TypeError;y.RangeError=i.RangeError;var h=y.CancellationError=i.CancellationError;y.TimeoutError=i.TimeoutError,y.OperationalError=i.OperationalError,y.RejectionError=i.OperationalError,y.AggregateError=i.AggregateError;var r=function(){},l={},p={},C=Lt()(y,r),k=Gt()(y,r,C,o,g),F=Qt()(y),x=F.create,q=Wt()(y,F);q.CapturedTrace;var Q=zt()(y,C),W=$t()(p),B=qt(),M=b.errorObj,X=b.tryCatch;function re(n,m){if(typeof m!="function")throw new f("expecting a function but got "+b.classString(m));if(n.constructor!==y)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function y(n){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,n!==r&&(re(this,n),this._resolveFromExecutor(n)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}y.prototype.toString=function(){return"[object Promise]"},y.prototype.caught=y.prototype.catch=function(n){var m=arguments.length;if(m>1){var T=new Array(m-1),j=0,A;for(A=0;A<m-1;++A){var I=arguments[A];if(b.isObject(I))T[j++]=I;else return o("expecting an object but got A catch statement predicate "+b.classString(I))}return T.length=j,n=arguments[A],this.then(void 0,W(T,n,this))}return this.then(void 0,n)},y.prototype.reflect=function(){return this._then(w,w,void 0,this,void 0)},y.prototype.then=function(n,m){if(q.warnings()&&arguments.length>0&&typeof n!="function"&&typeof m!="function"){var T=".then() only accepts functions but was passed: "+b.classString(n);arguments.length>1&&(T+=", "+b.classString(m)),this._warn(T)}return this._then(n,m,void 0,void 0,void 0)},y.prototype.done=function(n,m){var T=this._then(n,m,void 0,void 0,void 0);T._setIsFinal()},y.prototype.spread=function(n){return typeof n!="function"?o("expecting a function but got "+b.classString(n)):this.all()._then(n,void 0,void 0,l,void 0)},y.prototype.toJSON=function(){var n={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(n.fulfillmentValue=this.value(),n.isFulfilled=!0):this.isRejected()&&(n.rejectionReason=this.reason(),n.isRejected=!0),n},y.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},y.prototype.error=function(n){return this.caught(b.originatesFromRejection,n)},y.getNewLibraryCopy=e.exports,y.is=function(n){return n instanceof y},y.fromNode=y.fromCallback=function(n){var m=new y(r);m._captureStackTrace();var T=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,j=X(n)(B(m,T));return j===M&&m._rejectCallback(j.e,!0),m._isFateSealed()||m._setAsyncGuaranteed(),m},y.all=function(n){return new k(n).promise()},y.cast=function(n){var m=C(n);return m instanceof y||(m=new y(r),m._captureStackTrace(),m._setFulfilled(),m._rejectionHandler0=n),m},y.resolve=y.fulfilled=y.cast,y.reject=y.rejected=function(n){var m=new y(r);return m._captureStackTrace(),m._rejectCallback(n,!0),m},y.setScheduler=function(n){if(typeof n!="function")throw new f("expecting a function but got "+b.classString(n));return a.setScheduler(n)},y.prototype._then=function(n,m,T,j,A){var I=A!==void 0,_=I?A:new y(r),V=this._target(),z=V._bitField;I||(_._propagateFrom(this,3),_._captureStackTrace(),j===void 0&&this._bitField&2097152&&(z&50397184?j=this._boundValue():j=V===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,_));var L=u();if(z&50397184){var H,$,te=V._settlePromiseCtx;z&33554432?($=V._rejectionHandler0,H=n):z&16777216?($=V._fulfillmentHandler0,H=m,V._unsetRejectionIsUnhandled()):(te=V._settlePromiseLateCancellationObserver,$=new h("late cancellation observer"),V._attachExtraTrace($),H=m),a.invoke(te,V,{handler:L===null?H:typeof H=="function"&&b.domainBind(L,H),promise:_,receiver:j,value:$})}else V._addCallbacks(n,m,_,j,L);return _},y.prototype._length=function(){return this._bitField&65535},y.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},y.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},y.prototype._setLength=function(n){this._bitField=this._bitField&-65536|n&65535},y.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},y.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},y.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},y.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},y.prototype._isFinal=function(){return(this._bitField&4194304)>0},y.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},y.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},y.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},y.prototype._setAsyncGuaranteed=function(){a.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},y.prototype._receiverAt=function(n){var m=n===0?this._receiver0:this[n*4-4+3];if(m!==v)return m===void 0&&this._isBound()?this._boundValue():m},y.prototype._promiseAt=function(n){return this[n*4-4+2]},y.prototype._fulfillmentHandlerAt=function(n){return this[n*4-4+0]},y.prototype._rejectionHandlerAt=function(n){return this[n*4-4+1]},y.prototype._boundValue=function(){},y.prototype._migrateCallback0=function(n){n._bitField;var m=n._fulfillmentHandler0,T=n._rejectionHandler0,j=n._promise0,A=n._receiverAt(0);A===void 0&&(A=v),this._addCallbacks(m,T,j,A,null)},y.prototype._migrateCallbackAt=function(n,m){var T=n._fulfillmentHandlerAt(m),j=n._rejectionHandlerAt(m),A=n._promiseAt(m),I=n._receiverAt(m);I===void 0&&(I=v),this._addCallbacks(T,j,A,I,null)},y.prototype._addCallbacks=function(n,m,T,j,A){var I=this._length();if(I>=65535-4&&(I=0,this._setLength(0)),I===0)this._promise0=T,this._receiver0=j,typeof n=="function"&&(this._fulfillmentHandler0=A===null?n:b.domainBind(A,n)),typeof m=="function"&&(this._rejectionHandler0=A===null?m:b.domainBind(A,m));else{var _=I*4-4;this[_+2]=T,this[_+3]=j,typeof n=="function"&&(this[_+0]=A===null?n:b.domainBind(A,n)),typeof m=="function"&&(this[_+1]=A===null?m:b.domainBind(A,m))}return this._setLength(I+1),I},y.prototype._proxy=function(n,m){this._addCallbacks(void 0,void 0,m,n,null)},y.prototype._resolveCallback=function(n,m){if(!(this._bitField&117506048)){if(n===this)return this._rejectCallback(E(),!1);var T=C(n,this);if(!(T instanceof y))return this._fulfill(n);m&&this._propagateFrom(T,2);var j=T._target();if(j===this){this._reject(E());return}var A=j._bitField;if(A&50397184)if(A&33554432)this._fulfill(j._value());else if(A&16777216)this._reject(j._reason());else{var V=new h("late cancellation observer");j._attachExtraTrace(V),this._reject(V)}else{var I=this._length();I>0&&j._migrateCallback0(this);for(var _=1;_<I;++_)j._migrateCallbackAt(this,_);this._setFollowing(),this._setLength(0),this._setFollowee(j)}}},y.prototype._rejectCallback=function(n,m,T){var j=b.ensureErrorObject(n),A=j===n;if(!A&&!T&&q.warnings()){var I="a promise was rejected with a non-error: "+b.classString(n);this._warn(I,!0)}this._attachExtraTrace(j,m?A:!1),this._reject(n)},y.prototype._resolveFromExecutor=function(n){var m=this;this._captureStackTrace(),this._pushContext();var T=!0,j=this._execute(n,function(A){m._resolveCallback(A)},function(A){m._rejectCallback(A,T)});T=!1,this._popContext(),j!==void 0&&m._rejectCallback(j,!0)},y.prototype._settlePromiseFromHandler=function(n,m,T,j){var A=j._bitField;if(!(A&65536)){j._pushContext();var I;m===l?!T||typeof T.length!="number"?(I=M,I.e=new f("cannot .spread() a non-array: "+b.classString(T))):I=X(n).apply(this._boundValue(),T):I=X(n).call(m,T);var _=j._popContext();A=j._bitField,!(A&65536)&&(I===p?j._reject(T):I===M?j._rejectCallback(I.e,!1):(q.checkForgottenReturns(I,_,"",j,this),j._resolveCallback(I)))}},y.prototype._target=function(){for(var n=this;n._isFollowing();)n=n._followee();return n},y.prototype._followee=function(){return this._rejectionHandler0},y.prototype._setFollowee=function(n){this._rejectionHandler0=n},y.prototype._settlePromise=function(n,m,T,j){var A=n instanceof y,I=this._bitField,_=(I&134217728)!==0;I&65536?(A&&n._invokeInternalOnCancel(),T instanceof Q&&T.isFinallyHandler()?(T.cancelPromise=n,X(m).call(T,j)===M&&n._reject(M.e)):m===w?n._fulfill(w.call(T)):T instanceof g?T._promiseCancelled(n):A||n instanceof k?n._cancel():T.cancel()):typeof m=="function"?A?(_&&n._setAsyncGuaranteed(),this._settlePromiseFromHandler(m,T,j,n)):m.call(T,j,n):T instanceof g?T._isResolved()||(I&33554432?T._promiseFulfilled(j,n):T._promiseRejected(j,n)):A&&(_&&n._setAsyncGuaranteed(),I&33554432?n._fulfill(j):n._reject(j))},y.prototype._settlePromiseLateCancellationObserver=function(n){var m=n.handler,T=n.promise,j=n.receiver,A=n.value;typeof m=="function"?T instanceof y?this._settlePromiseFromHandler(m,j,A,T):m.call(j,A,T):T instanceof y&&T._reject(A)},y.prototype._settlePromiseCtx=function(n){this._settlePromise(n.promise,n.handler,n.receiver,n.value)},y.prototype._settlePromise0=function(n,m,T){var j=this._promise0,A=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(j,n,A,m)},y.prototype._clearCallbackDataAtIndex=function(n){var m=n*4-4;this[m+2]=this[m+3]=this[m+0]=this[m+1]=void 0},y.prototype._fulfill=function(n){var m=this._bitField;if(!((m&117506048)>>>16)){if(n===this){var T=E();return this._attachExtraTrace(T),this._reject(T)}this._setFulfilled(),this._rejectionHandler0=n,(m&65535)>0&&(m&134217728?this._settlePromises():a.settlePromises(this))}},y.prototype._reject=function(n){var m=this._bitField;if(!((m&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=n,this._isFinal())return a.fatalError(n,b.isNode);(m&65535)>0?a.settlePromises(this):this._ensurePossibleRejectionHandled()}},y.prototype._fulfillPromises=function(n,m){for(var T=1;T<n;T++){var j=this._fulfillmentHandlerAt(T),A=this._promiseAt(T),I=this._receiverAt(T);this._clearCallbackDataAtIndex(T),this._settlePromise(A,j,I,m)}},y.prototype._rejectPromises=function(n,m){for(var T=1;T<n;T++){var j=this._rejectionHandlerAt(T),A=this._promiseAt(T),I=this._receiverAt(T);this._clearCallbackDataAtIndex(T),this._settlePromise(A,j,I,m)}},y.prototype._settlePromises=function(){var n=this._bitField,m=n&65535;if(m>0){if(n&16842752){var T=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,T,n),this._rejectPromises(m,T)}else{var j=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,j,n),this._fulfillPromises(m,j)}this._setLength(0)}this._clearCancellationData()},y.prototype._settledValue=function(){var n=this._bitField;if(n&33554432)return this._rejectionHandler0;if(n&16777216)return this._fulfillmentHandler0};function O(n){this.promise._resolveCallback(n)}function D(n){this.promise._rejectCallback(n,!1)}y.defer=y.pending=function(){q.deprecated("Promise.defer","new Promise");var n=new y(r);return{promise:n,resolve:O,reject:D}},b.notEnumerableProp(y,"_makeSelfResolutionError",E),Xt()(y,r,C,o,q),Kt()(y,r,C,q),Jt()(y,k,o,q),Yt()(y),Zt()(y),Pt()(y,k,C,r,a,u),y.Promise=y,y.version="3.4.7",er()(y,k,o,C,r,q),tr()(y),rr()(y,o,C,x,r,q),nr()(y,r,q),ir()(y,o,r,C,g,q),ar()(y),or()(y,r),sr()(y,k,C,o),ur()(y,r,C,o),lr()(y,k,o,C,r,q),cr()(y,k,q),fr()(y,k,o),hr()(y,r),pr()(y,r),dr()(y),b.toFastProperties(y),b.toFastProperties(y.prototype);function G(n){var m=new y(r);m._fulfillmentHandler0=n,m._rejectionHandler0=n,m._promise0=n,m._receiver0=n}return G({a:1}),G({b:2}),G({c:3}),G(1),G(function(){}),G(void 0),G(!1),G(new y(r)),q.setBounds(s.firstLineError,b.lastLineError),y}})(xt);var vr=xt.exports;export{vr as p};
